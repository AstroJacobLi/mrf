hires:
  dataset: 'HSC'
  zeropoint: 27.0
  pixel_scale: 0.336 # pixel/arcsec

lowres:
  dataset: 'DECaLS'
  band: 'g'
  pixel_scale: 2.62  # pixel/arcsec
  sub_bkgval: False  # highly recommend True for Dragonfly
  magnify_factor: 3.0 
  zeropoint: 22.5
  color_term: -0.03  # -0.03 for g, -0.10 for r (cross-MRF between HSC and DECaLS)

sex:
  sigma: 3
  minarea: 2
  b: 64
  f: 3
  deblend_cont: 0.001
  deblend_nthresh: 32
  sky_subtract: True
  flux_aper: [3, 6]
  show_fig: True
  

fluxmodel:
  gaussian_radius: 1.5
  gaussian_threshold: 0.05
  unmask_lowsb: True
  sb_lim: 25.5       # release objects fainter than this surface brightness 
  unmask_ratio: 2.0  # larger value includes more compact objects. 
  minarea: 25        # minimum area (pixels) of objects which will be removed from flux model, measured on low-res image. 
  interp: 'iraf'

kernel:
  kernel_size: 5     # Measured on low-res image, before magnification
  kernel_edge: 1
  nkernel: 30
  frac_maxflux: 0.2
  circularize: False
  show_fig: True

starhalo:
  bright_lim: 17.5   # only stack stars brighter than bright_lim
  fwhm_lim: 40      # only stack stars whose FWHM < fwhm_lim
  n_stack: 30
  halosize: 20       # radial size, in pixel, original size. Star cutout size will be 2 * halosize + 1
  padsize: 50
  edgesize: 3
  norm: 'flux_ann'   # 'flux_ann' or 'flux'
  b: 32
  f: 3
  sigma: 4
  minarea: 5
  deblend_cont: 0.005
  deblend_nthresh: 32
  sky_subtract: False
  flux_aper: [3, 6]
  mask_contam: True
  cval: 'nan'
  interp: 'iraf'

clean:
  clean_img: True
  clean_file: False
  replace_with_noise: False
  gaussian_radius: 1.5
  gaussian_threshold: 0.005
  bright_lim: 17.5
  r: 5.0